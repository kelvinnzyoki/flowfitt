<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workouts - FlowFit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-accent: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --bg-dark: #0a0a0f;
            --bg-card: #1a1a24;
            --bg-sidebar: #0f0f16;
            --text-primary: #ffffff;
            --text-secondary: #a8a8b8;
            --accent: #f5576c;
            --border: rgba(255, 255, 255, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar - Same as dashboard */
        .sidebar {
            width: 280px;
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border);
            padding: 2rem 1.5rem;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            font-family: 'Archivo Black', sans-serif;
            font-size: 1.8rem;
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 3rem;
        }

        .nav-menu {
            list-style: none;
            flex: 1;
        }

        .nav-item {
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover,
        .nav-link.active {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .nav-link.active {
            background: var(--gradient-2);
            color: #fff;
        }

        .nav-icon {
            font-size: 1.4rem;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.25rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            margin-top: auto;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .user-info h4 {
            font-weight: 700;
            font-size: 0.95rem;
        }

        .user-info p {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 2rem 3rem;
            width: calc(100% - 280px);
        }

        .header {
            margin-bottom: 3rem;
        }

        .header h1 {
            font-family: 'Archivo Black', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            letter-spacing: -1px;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Search and Filters */
        .controls {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .search-bar {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 1rem 1.5rem 1rem 3.5rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 15px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'DM Sans', sans-serif;
            transition: all 0.3s ease;
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(245, 87, 108, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        .filter-tabs {
            display: flex;
            gap: 0.75rem;
        }

        .tab-btn {
            padding: 1rem 1.75rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.95rem;
        }

        .tab-btn:hover {
            border-color: var(--accent);
            color: var(--text-primary);
        }

        .tab-btn.active {
            background: var(--gradient-2);
            border-color: transparent;
            color: #fff;
        }

        /* Exercise Grid */
        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
        }

        .exercise-card {
            background: var(--bg-card);
            border-radius: 20px;
            border: 1px solid var(--border);
            overflow: hidden;
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .exercise-card:hover {
            transform: translateY(-8px);
            border-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .exercise-image {
            width: 100%;
            height: 200px;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
        }

        .exercise-card:nth-child(2n) .exercise-image {
            background: var(--gradient-2);
        }

        .exercise-card:nth-child(3n) .exercise-image {
            background: var(--gradient-3);
        }

        .difficulty-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem 1rem;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .difficulty-beginner {
            color: #4ade80;
        }

        .difficulty-intermediate {
            color: #fbbf24;
        }

        .difficulty-advanced {
            color: #f87171;
        }

        .exercise-content {
            padding: 1.75rem;
        }

        .exercise-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .exercise-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .exercise-meta span {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .exercise-description {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .exercise-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .tag {
            padding: 0.4rem 0.9rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .exercise-actions {
            display: flex;
            gap: 1rem;
        }

        .btn-action {
            flex: 1;
            padding: 0.9rem;
            border-radius: 12px;
            border: none;
            font-weight: 700;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'DM Sans', sans-serif;
        }

        .btn-start {
            background: var(--gradient-accent);
            color: #000;
        }

        .btn-start:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(245, 87, 108, 0.3);
        }

        .btn-save {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-save:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--accent);
        }

        /* Exercise Modal (Preview) */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-card);
            border-radius: 25px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border);
        }

        .modal-header {
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-family: 'Archivo Black', sans-serif;
            font-size: 2rem;
        }

        .close-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 2rem;
        }

        .instructions {
            margin-bottom: 2rem;
        }

        .instructions h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .instructions ol {
            padding-left: 1.5rem;
        }

        .instructions li {
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 0.8rem;
        }

        .modal-cta {
            display: flex;
            gap: 1rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                width: 100%;
                padding: 1.5rem;
            }

            .exercise-grid {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
            }

            .filter-tabs {
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">FlowFit</div>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="dashboard.html" class="nav-link">
                        <span class="nav-icon">üìä</span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="workouts.html" class="nav-link active">
                        <span class="nav-icon">üí™</span>
                        <span>Workouts</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="programs.html" class="nav-link">
                        <span class="nav-icon">üìã</span>
                        <span>Programs</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="progress.html" class="nav-link">
                        <span class="nav-icon">üìà</span>
                        <span>Progress</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üèÜ</span>
                        <span>Achievements</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">üí≥</span>
                        <span>Subscription</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>

            <div class="user-profile">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <h4>John Doe</h4>
                    <p>Pro Member</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="header">
                <h1>Exercise Library</h1>
                <p>Browse our comprehensive collection of home workouts</p>
            </div>

            <!-- Search and Filters -->
            <div class="controls">
                <div class="search-bar">
                    <span class="search-icon">üîç</span>
                    <input type="text" placeholder="Search exercises..." id="searchInput">
                </div>

                <div class="filter-tabs">
                    <button class="tab-btn active" data-filter="all">All</button>
                    <button class="tab-btn" data-filter="beginner">Beginner</button>
                    <button class="tab-btn" data-filter="intermediate">Intermediate</button>
                    <button class="tab-btn" data-filter="advanced">Advanced</button>
                </div>
            </div>

            <!-- Exercise Grid -->
            <div class="exercise-grid">
                <!-- Push-ups -->
                <div class="exercise-card" data-difficulty="beginner">
                    <div class="exercise-image">
                        <span>üí™</span>
                        <div class="difficulty-badge difficulty-beginner">Beginner</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Push-ups</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-10 min</span>
                            <span>üî• 150 cal</span>
                        </div>
                        <p class="exercise-description">
                            Classic upper body exercise targeting chest, shoulders, and triceps. Perfect for building strength.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Upper Body</span>
                            <span class="tag">Chest</span>
                            <span class="tag">No Equipment</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Squats -->
                <div class="exercise-card" data-difficulty="beginner">
                    <div class="exercise-image">
                        <span>ü¶µ</span>
                        <div class="difficulty-badge difficulty-beginner">Beginner</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Squats</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-10 min</span>
                            <span>üî• 180 cal</span>
                        </div>
                        <p class="exercise-description">
                            Fundamental lower body movement for building leg strength, power, and mobility.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Lower Body</span>
                            <span class="tag">Legs</span>
                            <span class="tag">No Equipment</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Burpees -->
                <div class="exercise-card" data-difficulty="intermediate">
                    <div class="exercise-image">
                        <span>üèÉ</span>
                        <div class="difficulty-badge difficulty-intermediate">Intermediate</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Burpees</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-8 min</span>
                            <span>üî• 250 cal</span>
                        </div>
                        <p class="exercise-description">
                            High-intensity full-body exercise that combines strength training with cardio.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Full Body</span>
                            <span class="tag">Cardio</span>
                            <span class="tag">HIIT</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Plank -->
                <div class="exercise-card" data-difficulty="beginner">
                    <div class="exercise-image">
                        <span>üßò</span>
                        <div class="difficulty-badge difficulty-beginner">Beginner</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Plank</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 3-5 min</span>
                            <span>üî• 100 cal</span>
                        </div>
                        <p class="exercise-description">
                            Isometric core exercise that builds endurance and stability throughout the entire body.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Core</span>
                            <span class="tag">Abs</span>
                            <span class="tag">Stability</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Mountain Climbers -->
                <div class="exercise-card" data-difficulty="intermediate">
                    <div class="exercise-image">
                        <span>‚õ∞Ô∏è</span>
                        <div class="difficulty-badge difficulty-intermediate">Intermediate</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Mountain Climbers</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-8 min</span>
                            <span>üî• 200 cal</span>
                        </div>
                        <p class="exercise-description">
                            Dynamic cardio exercise that engages core, shoulders, and legs simultaneously.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Cardio</span>
                            <span class="tag">Core</span>
                            <span class="tag">HIIT</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Lunges -->
                <div class="exercise-card" data-difficulty="beginner">
                    <div class="exercise-image">
                        <span>üö∂</span>
                        <div class="difficulty-badge difficulty-beginner">Beginner</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Lunges</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 8-12 min</span>
                            <span>üî• 160 cal</span>
                        </div>
                        <p class="exercise-description">
                            Unilateral leg exercise that improves balance, coordination, and lower body strength.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Lower Body</span>
                            <span class="tag">Legs</span>
                            <span class="tag">Balance</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Russian Twists -->
                <div class="exercise-card" data-difficulty="intermediate">
                    <div class="exercise-image">
                        <span>üåÄ</span>
                        <div class="difficulty-badge difficulty-intermediate">Intermediate</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Russian Twists</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-8 min</span>
                            <span>üî• 120 cal</span>
                        </div>
                        <p class="exercise-description">
                            Rotational core exercise targeting obliques and improving spinal mobility.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Core</span>
                            <span class="tag">Obliques</span>
                            <span class="tag">Rotation</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Jumping Jacks -->
                <div class="exercise-card" data-difficulty="beginner">
                    <div class="exercise-image">
                        <span>ü§∏</span>
                        <div class="difficulty-badge difficulty-beginner">Beginner</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Jumping Jacks</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-10 min</span>
                            <span>üî• 140 cal</span>
                        </div>
                        <p class="exercise-description">
                            Classic cardio warm-up exercise that increases heart rate and improves coordination.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Cardio</span>
                            <span class="tag">Full Body</span>
                            <span class="tag">Warm-up</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>

                <!-- Pike Push-ups -->
                <div class="exercise-card" data-difficulty="advanced">
                    <div class="exercise-image">
                        <span>üî∫</span>
                        <div class="difficulty-badge difficulty-advanced">Advanced</div>
                    </div>
                    <div class="exercise-content">
                        <h3 class="exercise-title">Pike Push-ups</h3>
                        <div class="exercise-meta">
                            <span>‚è±Ô∏è 5-8 min</span>
                            <span>üî• 170 cal</span>
                        </div>
                        <p class="exercise-description">
                            Advanced shoulder exercise that mimics overhead pressing movement pattern.
                        </p>
                        <div class="exercise-tags">
                            <span class="tag">Upper Body</span>
                            <span class="tag">Shoulders</span>
                            <span class="tag">Advanced</span>
                        </div>
                        <div class="exercise-actions">
                            <button class="btn-action btn-start">Start Exercise</button>
                            <button class="btn-action btn-save">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Exercise Modal -->
    <div class="modal" id="exerciseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Push-ups</h2>
                <button class="close-btn" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="instructions">
                    <h3>How to Perform</h3>
                    <ol>
                        <li>Start in a high plank position with hands shoulder-width apart</li>
                        <li>Keep your body in a straight line from head to heels</li>
                        <li>Lower your chest toward the ground by bending your elbows</li>
                        <li>Push back up to the starting position</li>
                        <li>Repeat for the desired number of repetitions</li>
                    </ol>
                </div>

                <div class="instructions">
                    <h3>Recommended Sets</h3>
                    <p style="color: var(--text-secondary); line-height: 1.8;">
                        Beginners: 3 sets √ó 8-10 reps<br>
                        Intermediate: 3 sets √ó 12-15 reps<br>
                        Advanced: 4 sets √ó 20+ reps
                    </p>
                </div>

                <div class="modal-cta">
                    <button class="btn-action btn-start" style="flex: 1;" onclick="startExercise()">Start Now</button>
                    <button class="btn-action btn-save" onclick="closeModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>

<script src="api.js"></script>
      // Require authentication
requireAuth();
        // Tab filtering
        const tabs = document.querySelectorAll('.tab-btn');
        const cards = document.querySelectorAll('.exercise-card');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                const filter = tab.dataset.filter;

                cards.forEach(card => {
                    if (filter === 'all' || card.dataset.difficulty === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();

            cards.forEach(card => {
                const title = card.querySelector('.exercise-title').textContent.toLowerCase();
                const description = card.querySelector('.exercise-description').textContent.toLowerCase();

                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Modal functionality
        const modal = document.getElementById('exerciseModal');

        document.querySelectorAll('.btn-start').forEach(btn => {
            btn.addEventListener('click', (e) => {
                if (!e.target.closest('.modal')) {
                    modal.classList.add('active');
                }
            });
        });

        function closeModal() {
            modal.classList.remove('active');
        }

        function startExercise() {
            alert('Starting exercise! In production, this would launch the workout timer.');
            closeModal();
        }

        // Close modal on outside click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
        
        
        
        async function loadExercises() {
        try {
            LoadingManager.show('Loading exercises...');
            const response = await WorkoutsAPI.getExercises();
            
            if (response.success) {
                renderExercises(response.data);
            }
            
            LoadingManager.hide();
        } catch (error) {
            LoadingManager.hide();
            Toast.error('Failed to load exercises');
        }
    }
    
    function renderExercises(exercises) {
        const grid = document.querySelector('.exercise-grid');
        // Add your rendering logic here
    }
    
    let allExercises = [];
let currentCategory = 'all';

async function loadExercises() {
    try {
        LoadingManager.show('Loading exercises...');
        
        const response = await WorkoutsAPI.getExercises({ limit: 50 });
        
        if (response.success && response.data) {
            allExercises = response.data;
            displayExercises(allExercises);
        }
        
        LoadingManager.hide();
    } catch (error) {
        LoadingManager.hide();
        Toast.error('Failed to load exercises');
        console.error('Load exercises error:', error);
    }
}

function displayExercises(exercises) {
    const grid = document.querySelector('.exercise-grid, .workouts-grid');
    if (!grid) return;
    
    if (exercises.length === 0) {
        grid.innerHTML = '<p>No exercises found</p>';
        return;
    }
    
    const html = exercises.map(exercise => `
        <div class="exercise-card" data-id="${exercise.id}">
            <div class="exercise-header">
                <span class="exercise-icon">${getCategoryIcon(exercise.category)}</span>
                <span class="exercise-category">${exercise.category}</span>
            </div>
            <h3 class="exercise-title">${exercise.name}</h3>
            <p class="exercise-description">${exercise.description || 'No description available'}</p>
            <div class="exercise-meta">
                <span>üî• ${Math.round(exercise.caloriesPerMin * 10)} cal/10min</span>
            </div>
            <div class="exercise-actions">
                <button class="btn btn-primary" onclick="startExercise('${exercise.id}', '${exercise.name}')">
                    Start Exercise
                </button>
                <button class="btn btn-ghost" onclick="viewExerciseDetails('${exercise.id}')">
                    Details
                </button>
            </div>
        </div>
    `).join('');
    
    grid.innerHTML = html;
}

function getCategoryIcon(category) {
    const icons = {
        'STRENGTH': 'üí™',
        'CARDIO': 'üèÉ',
        'FLEXIBILITY': 'üßò',
        'CORE': 'üî•',
    };
    return icons[category.toUpperCase()] || 'üí™';
}

function filterByCategory(category) {
    currentCategory = category;
    
    // Update active tab
    document.querySelectorAll('[data-filter]').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    if (category === 'all') {
        displayExercises(allExercises);
    } else {
        const filtered = allExercises.filter(ex => 
            ex.category.toUpperCase() === category.toUpperCase()
        );
        displayExercises(filtered);
    }
}

async function searchExercises(query) {
    if (query.length < 2) {
        displayExercises(allExercises);
        return;
    }
    
    try {
        const response = await WorkoutsAPI.searchExercises(query);
        if (response.success && response.data) {
            displayExercises(response.data);
        }
    } catch (error) {
        console.error('Search error:', error);
    }
}

async function startExercise(exerciseId, exerciseName) {
    // Show workout logging modal
    const duration = prompt(`How long did you exercise ${exerciseName}? (minutes)`);
    if (!duration) return;
    
    const sets = prompt('How many sets? (optional)') || null;
    const reps = prompt('How many reps per set? (optional)') || null;
    
    try {
        LoadingManager.show('Logging workout...');
        
        const response = await ProgressAPI.logWorkout({
            exerciseId,
            duration: parseInt(duration) * 60, // Convert to seconds
            sets: sets ? parseInt(sets) : null,
            reps: reps ? parseInt(reps) : null,
        });
        
        if (response.success) {
            Toast.success('Workout logged successfully!');
        }
        
        LoadingManager.hide();
    } catch (error) {
        LoadingManager.hide();
        Toast.error('Failed to log workout');
        console.error('Log workout error:', error);
    }
}

async function viewExerciseDetails(exerciseId) {
    try {
        const response = await WorkoutsAPI.getExerciseById(exerciseId);
        if (response.success && response.data) {
            // Show modal with exercise details
            alert(`${response.data.name}\n\n${response.data.description || 'No description'}`);
        }
    } catch (error) {
        Toast.error('Failed to load exercise details');
    }
}

// Search functionality
const searchInput = document.querySelector('.search-input, input[type="search"]');
if (searchInput) {
    searchInput.addEventListener('input', (e) => {
        searchExercises(e.target.value);
    });
}

        // Load exercises on page load
document.addEventListener('DOMContentLoaded', loadExercises);
   
    </script>
    
    
    
    
</body>
</html>
